---
/* vibepedia ヘッダーコンポーネント
 * サイトロゴ、検索バー、モバイルメニュートグルを表示する。
 * ページ上部に固定表示される。
 */
const base = import.meta.env.BASE_URL;
---

<header class="header">
  <div class="header-inner">
    <div class="header-left">
      <!-- モバイルメニュートグル -->
      <button
        class="sidebar-toggle"
        id="sidebar-toggle"
        aria-label="メニューを開く"
      >
        <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
          <line x1="3" y1="6" x2="21" y2="6"></line>
          <line x1="3" y1="12" x2="21" y2="12"></line>
          <line x1="3" y1="18" x2="21" y2="18"></line>
        </svg>
      </button>

      <!-- サイトロゴ -->
      <a href={base} class="logo">
        <span class="logo-text">Vibepedia</span>
      </a>
    </div>

    <!-- 検索バー（装飾用） -->
    <div class="search-wrapper">
      <input
        type="search"
        class="search-input"
        placeholder="Vibepediaを検索..."
        aria-label="サイト内検索"
        disabled
      />
      <svg class="search-icon" width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <circle cx="11" cy="11" r="8"></circle>
        <line x1="21" y1="21" x2="16.65" y2="16.65"></line>
      </svg>
    </div>

    <div class="header-right">
      <span class="header-tagline">フリー百科事典</span>
    </div>
  </div>
</header>

<style>
  .header {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    height: var(--header-height);
    background-color: var(--color-header-bg);
    border-bottom: 1px solid var(--color-border);
    z-index: 100;
    box-shadow: var(--shadow-sm);
  }

  .header-inner {
    display: flex;
    align-items: center;
    gap: var(--spacing-md);
    height: 100%;
    padding: 0 var(--spacing-lg);
    max-width: calc(var(--layout-max-width) + var(--spacing-lg) + var(--spacing-lg));
    margin: 0 auto;
  }

  .header-left {
    display: flex;
    align-items: center;
    gap: var(--spacing-sm);
    flex-shrink: 0;
  }

  .sidebar-toggle {
    display: none;
    align-items: center;
    justify-content: center;
    width: 40px;
    height: 40px;
    border: none;
    background: none;
    color: var(--color-text);
    cursor: pointer;
    border-radius: var(--radius-sm);
    transition: background-color var(--transition-fast);
  }

  .sidebar-toggle:hover {
    background-color: var(--color-sidebar-bg);
  }

  .logo {
    display: flex;
    align-items: center;
    gap: 0;
    text-decoration: none;
    color: var(--color-text);
  }

  .logo:visited {
    color: var(--color-text);
  }

  .logo:hover {
    text-decoration: none;
    opacity: 0.85;
  }

  .logo-text {
    font-family: var(--font-serif);
    font-size: 1.5rem;
    font-weight: 700;
    letter-spacing: -0.02em;
    line-height: 1.3;
    color: var(--color-text);
  }

  .search-wrapper {
    position: relative;
    order: 3;
    flex: 0 1 480px;
    max-width: 480px;
    margin-left: auto;
  }

  .search-input {
    width: 100%;
    height: 38px;
    padding: 0 var(--spacing-md) 0 40px;
    border: 1px solid var(--color-border);
    border-radius: 20px;
    font-size: 0.875rem;
    font-family: var(--font-sans);
    background-color: var(--color-sidebar-bg);
    color: var(--color-text);
    transition: border-color var(--transition-fast), box-shadow var(--transition-fast);
    cursor: not-allowed;
  }

  .search-input::placeholder {
    color: var(--color-text-tertiary);
  }

  .search-icon {
    position: absolute;
    left: 14px;
    top: 50%;
    transform: translateY(-50%);
    color: var(--color-text-tertiary);
    pointer-events: none;
  }

  .header-right {
    order: 2;
    flex-shrink: 0;
  }

  .header-tagline {
    font-size: 0.8rem;
    color: var(--color-text-tertiary);
    white-space: nowrap;
  }

  @media (max-width: 768px) {
    .header-inner {
      padding: 0 var(--spacing-md);
    }

    .sidebar-toggle {
      display: flex;
    }

    .header-tagline {
      display: none;
    }

    .search-wrapper {
      max-width: none;
    }
  }

</style>
